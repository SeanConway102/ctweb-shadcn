{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "contact-form",
  "type": "registry:block",
  "title": "Contact Form",
  "description": "A reusable contact form with name, email, phone, subject select, and message fields. Includes Zod validation, honeypot spam protection, loading states, success confirmation, and error handling via sonner toasts. Pairs with a /api/contact route for Resend email delivery.",
  "dependencies": [
    "zod",
    "react-hook-form",
    "@hookform/resolvers",
    "sonner",
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "input",
    "label",
    "textarea",
    "card",
    "form",
    "select",
    "separator",
    "sonner"
  ],
  "files": [
    {
      "path": "registry/new-york/blocks/contact-form/contact-form.tsx",
      "content": "\"use client\"\n\nimport {\n  contactSchema,\n  type ContactFormValues,\n} from \"./contact-schema\"\nimport {\n  ContactFormEngine,\n  type FieldConfig,\n} from \"./contact-form-engine\"\n\nconst fields: FieldConfig<ContactFormValues>[] = [\n  {\n    name: \"name\",\n    label: \"Full Name\",\n    placeholder: \"Jane Doe\",\n  },\n  {\n    name: \"email\",\n    label: \"Email Address\",\n    type: \"email\",\n    placeholder: \"jane@example.com\",\n  },\n  {\n    name: \"phone\",\n    label: \"Phone (optional)\",\n    type: \"tel\",\n    placeholder: \"+1 (555) 000-0000\",\n  },\n  {\n    name: \"subject\",\n    label: \"Subject\",\n    type: \"select\",\n    placeholder: \"Select a subject\",\n    options: [\n      { label: \"General Inquiry\", value: \"general\" },\n      { label: \"Technical Support\", value: \"support\" },\n      { label: \"Sales\", value: \"sales\" },\n      { label: \"Partnership\", value: \"partnership\" },\n    ],\n  },\n  {\n    name: \"message\",\n    label: \"Message\",\n    type: \"textarea\",\n    placeholder: \"Tell us how we can help...\",\n  },\n  {\n    name: \"honeypot\",\n    label: \"\",\n    type: \"hidden\",\n  },\n]\n\nconst defaultValues: ContactFormValues = {\n  name: \"\",\n  email: \"\",\n  phone: \"\",\n  subject: undefined as unknown as ContactFormValues[\"subject\"],\n  message: \"\",\n  honeypot: \"\",\n}\n\nexport function ContactForm({ className }: { className?: string }) {\n  return (\n    <ContactFormEngine\n      schema={contactSchema}\n      defaultValues={defaultValues}\n      fields={fields}\n      className={className}\n    />\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/blocks/contact-form/contact-form-engine.tsx",
      "content": "\"use client\"\n\nimport { useState } from \"react\"\nimport { useForm, type DefaultValues, type Path } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport type { z } from \"zod\"\nimport { toast } from \"sonner\"\n\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/registry/new-york/ui/form\"\nimport { Input } from \"@/registry/new-york/ui/input\"\nimport { Textarea } from \"@/registry/new-york/ui/textarea\"\nimport { Button } from \"@/registry/new-york/ui/button\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/registry/new-york/ui/select\"\nimport { Loader2, Send, CheckCircle2 } from \"lucide-react\"\n\nexport type FieldConfig<T> = {\n  name: Path<T>\n  label: string\n  placeholder?: string\n  type?: \"text\" | \"email\" | \"tel\" | \"textarea\" | \"select\" | \"hidden\"\n  options?: { label: string; value: string }[]\n  className?: string\n}\n\nexport type ContactFormEngineProps<T extends Record<string, unknown>> = {\n  schema: z.ZodType<T>\n  defaultValues: DefaultValues<T>\n  fields: FieldConfig<T>[]\n  endpoint?: string\n  submitLabel?: string\n  successTitle?: string\n  successMessage?: string\n  className?: string\n}\n\nexport function ContactFormEngine<T extends Record<string, unknown>>({\n  schema,\n  defaultValues,\n  fields,\n  endpoint = \"/api/contact\",\n  submitLabel = \"Send Message\",\n  successTitle = \"Message sent\",\n  successMessage = \"Thank you for reaching out. We'll get back to you within 24 hours.\",\n  className,\n}: ContactFormEngineProps<T>) {\n  const [status, setStatus] = useState<\"idle\" | \"submitting\" | \"success\">(\n    \"idle\",\n  )\n\n  const form = useForm<T>({\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    resolver: zodResolver(schema as any),\n    defaultValues,\n  })\n\n  async function onSubmit(data: T) {\n    setStatus(\"submitting\")\n\n    try {\n      const res = await fetch(endpoint, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n      })\n\n      if (!res.ok) {\n        const error = await res.json().catch(() => ({}))\n        throw new Error(\n          (error as { message?: string }).message ?? \"Something went wrong\",\n        )\n      }\n\n      setStatus(\"success\")\n      form.reset()\n\n      toast.success(successTitle, { description: successMessage })\n    } catch (err) {\n      setStatus(\"idle\")\n      toast.error(\"Failed to send message\", {\n        description:\n          err instanceof Error\n            ? err.message\n            : \"Please try again or email us directly.\",\n      })\n    }\n  }\n\n  function renderField(fieldConfig: FieldConfig<T>) {\n    const { name, label, placeholder, type = \"text\", options } = fieldConfig\n\n    if (type === \"hidden\") {\n      return (\n        <FormField\n          key={String(name)}\n          control={form.control}\n          name={name}\n          render={({ field }) => (\n            <FormItem\n              className=\"absolute -left-[9999px] opacity-0\"\n              aria-hidden=\"true\"\n            >\n              <FormControl>\n                <Input\n                  name={field.name}\n                  ref={field.ref}\n                  value={(field.value as string) ?? \"\"}\n                  onChange={field.onChange}\n                  onBlur={field.onBlur}\n                  disabled={field.disabled}\n                  tabIndex={-1}\n                  autoComplete=\"off\"\n                  placeholder={placeholder}\n                />\n              </FormControl>\n            </FormItem>\n          )}\n        />\n      )\n    }\n\n    return (\n      <FormField\n        key={String(name)}\n        control={form.control}\n        name={name}\n        render={({ field }) => (\n          <FormItem className={fieldConfig.className}>\n            <FormLabel className=\"text-sm font-medium text-foreground\">\n              {label}\n            </FormLabel>\n            <FormControl>\n              {type === \"textarea\" ? (\n                <Textarea\n                  name={field.name}\n                  ref={field.ref}\n                  value={(field.value as string) ?? \"\"}\n                  onChange={field.onChange}\n                  onBlur={field.onBlur}\n                  disabled={field.disabled}\n                  placeholder={placeholder}\n                  className=\"min-h-[140px] resize-y bg-card transition-colors focus-visible:ring-1\"\n                />\n              ) : type === \"select\" && options ? (\n                <Select\n                  onValueChange={field.onChange}\n                  defaultValue={field.value as string}\n                >\n                  <SelectTrigger className=\"bg-card transition-colors\">\n                    <SelectValue placeholder={placeholder} />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {options.map((opt) => (\n                      <SelectItem key={opt.value} value={opt.value}>\n                        {opt.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              ) : (\n                <Input\n                  name={field.name}\n                  ref={field.ref}\n                  value={(field.value as string) ?? \"\"}\n                  onChange={field.onChange}\n                  onBlur={field.onBlur}\n                  disabled={field.disabled}\n                  type={type}\n                  placeholder={placeholder}\n                  className=\"bg-card transition-colors focus-visible:ring-1\"\n                />\n              )}\n            </FormControl>\n            <FormMessage />\n          </FormItem>\n        )}\n      />\n    )\n  }\n\n  if (status === \"success\") {\n    return (\n      <div className={className}>\n        <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n          <div className=\"mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30\">\n            <CheckCircle2 className=\"h-8 w-8 text-green-600 dark:text-green-400\" />\n          </div>\n          <h3 className=\"mb-2 text-xl font-semibold text-foreground\">\n            {successTitle}\n          </h3>\n          <p className=\"max-w-sm text-sm leading-relaxed text-muted-foreground\">\n            {successMessage}\n          </p>\n          <Button\n            variant=\"outline\"\n            className=\"mt-8 bg-transparent\"\n            onClick={() => setStatus(\"idle\")}\n          >\n            Send another message\n          </Button>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className={className}>\n      <Form {...form}>\n        <form\n          onSubmit={form.handleSubmit(onSubmit)}\n          className=\"flex flex-col gap-5\"\n          noValidate\n        >\n          {fields.map(renderField)}\n\n          <Button\n            type=\"submit\"\n            size=\"lg\"\n            disabled={status === \"submitting\"}\n            className=\"mt-2 w-full\"\n          >\n            {status === \"submitting\" ? (\n              <>\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n                <span>Sending...</span>\n              </>\n            ) : (\n              <>\n                <Send className=\"h-4 w-4\" />\n                <span>{submitLabel}</span>\n              </>\n            )}\n          </Button>\n        </form>\n      </Form>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/blocks/contact-form/contact-info.tsx",
      "content": "import { Mail, MapPin, Clock } from \"lucide-react\"\nimport { Separator } from \"@/registry/new-york/ui/separator\"\n\nconst items = [\n  {\n    icon: Mail,\n    heading: \"Email us\",\n    lines: [\"hello@yourcompany.com\"],\n  },\n  {\n    icon: MapPin,\n    heading: \"Visit us\",\n    lines: [\"100 Main Street\", \"San Francisco, CA 94105\"],\n  },\n  {\n    icon: Clock,\n    heading: \"Working hours\",\n    lines: [\"Mon - Fri, 9:00 AM - 6:00 PM PT\"],\n  },\n]\n\nexport function ContactInfo() {\n  return (\n    <div className=\"flex flex-col gap-8\">\n      <div>\n        <p className=\"mb-2 font-mono text-xs uppercase tracking-widest text-muted-foreground\">\n          Get in touch\n        </p>\n        <h1 className=\"text-balance text-3xl font-semibold leading-tight text-foreground lg:text-4xl\">\n          {\"Let's start a conversation\"}\n        </h1>\n        <p className=\"mt-4 max-w-md text-base leading-relaxed text-muted-foreground\">\n          Have a question, a project idea, or just want to say hello? Fill out\n          the form and our team will respond within 24 hours.\n        </p>\n      </div>\n\n      <Separator />\n\n      <ul className=\"flex flex-col gap-6\" role=\"list\">\n        {items.map((item) => (\n          <li key={item.heading} className=\"flex items-start gap-4\">\n            <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/5\">\n              <item.icon className=\"h-5 w-5 text-foreground\" />\n            </div>\n            <div>\n              <p className=\"text-sm font-medium text-foreground\">\n                {item.heading}\n              </p>\n              {item.lines.map((line) => (\n                <p\n                  key={line}\n                  className=\"text-sm leading-relaxed text-muted-foreground\"\n                >\n                  {line}\n                </p>\n              ))}\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/blocks/contact-form/contact-schema.ts",
      "content": "import { z } from \"zod\"\n\nexport const contactSchema = z.object({\n  name: z\n    .string()\n    .min(2, \"Name must be at least 2 characters\")\n    .max(80, \"Name must not exceed 80 characters\"),\n  email: z.string().email(\"Please enter a valid email address\"),\n  phone: z.string().optional(),\n  subject: z.enum([\"general\", \"support\", \"sales\", \"partnership\"], {\n    message: \"Please select a subject\",\n  }),\n  message: z\n    .string()\n    .min(10, \"Message must be at least 10 characters\")\n    .max(2000, \"Message must not exceed 2,000 characters\"),\n  honeypot: z.string().optional(),\n})\n\nexport type ContactFormValues = z.infer<typeof contactSchema>\n",
      "type": "registry:component"
    }
  ]
}